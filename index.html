<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame Gaze Interaction Fixed</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    version 0.0.1
    <a-scene>
      <!-- Assets -->
      <a-assets>
        <audio id="ding-sound" src="https://cdn.aframe.io/basic-guide/audio/backgroundnoise.wav"></audio>
      </a-assets>

      <!-- Skybox (360Â° image) -->
      <a-sky src="img/CieloHD2.jpg" rotation="0 -130 0"></a-sky>


      <!-- Interactive Box -->
      <a-box id="box"
             position="0 1.5 -3"
             color="#4CC3D9"
             sound="on: click; src: #ding-sound"
             animation__scale="property: scale; startEvents: click; to: 1.2 1.2 1.2; dur: 200; dir: alternate"
             animation__rotate="property: rotation; startEvents: click; to: 0 360 0; dur: 1000; easing: easeOutQuad">
      </a-box>

      <!-- White Rounded Rectangle with Black Text -->
<a-entity position="0 2.5 -3" look-at="[camera]">
  <!-- Background panel -->
  <a-plane 
    width="2.5" 
    height="0.8" 
    color="#FFFFFF" 
    material="shader: flat; opacity: 0.9"
    geometry="primitive: plane; width: 2.5; height: 0.8"
    position="0 0 0">
  </a-plane>

  <!-- Centered black text -->
  <a-text 
    value="This is an immersive experience"
    font="https://cdn.aframe.io/fonts/Montserrat-msdf.json"
    align="center"
    color="#000000"
    width="2.2"
    position="0 0 0.01">
  </a-text>
</a-entity>



      <!-- Camera + Gaze Cursor -->
      <a-entity camera look-controls wasd-controls position="0 1.6 0">
        <a-entity 
          cursor="fuse: true; fuseTimeout: 1000"
          raycaster="objects: #box"
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
          material="color: black; shader: flat">
        </a-entity>
      </a-entity>
    </a-scene>

    <script>
      // Handle color change on gaze click
      const box = document.querySelector('#box');
      box.addEventListener('click', () => {
        box.setAttribute('color', '#FFC107'); // highlight color
        setTimeout(() => {
          box.setAttribute('color', '#4CC3D9'); // reset to original
        }, 1000); // delay in ms
      });
    </script>
  </body>
</html>
